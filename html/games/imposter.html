<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="Imposter: Who can you really trust? A social deduction game." />
        <meta name="author" content="Tom Wagg" />

        <title>Imposter</title>
        <link href="../../img/imposter.png" rel="icon" />
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=New+Tegomin&display=swap" rel="stylesheet">

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet" />

        <!-- random css -->
        <link href="../../css/animate.css" rel="stylesheet" />
        <link href="../../css/imposter.css" rel="stylesheet" />
    </head>
</html>
<body data-bs-theme="dark">
    <div id="setup">
        <!-- Setup section announces the game rules and instructions -->
        <!-- Game host will setup player names and number of spys -->
        <div class="container">
            <div class="row mt-5 mb-5">
                <div class="col text-center">
                    <img src="../../img/imposter.png" alt="Imposter Logo" class="mb-1" style="width:150px;" />
                    <h1 class="display-1">Imposter</h1>
                    <p class="lead">Who can you really trust?</p>
                    <a href="#setup" class="btn btn-danger" data-bs-toggle="collapse" data-bs-target="#rules" aria-expanded="false" aria-controls="rules">Show Rules & Setup Instructions</a>
                </div>
            </div>
            <div class="collapse row mb-3" id="rules">
                <div class="col">
                    <h3>Basic Rules</h3>
                    <ul>
                        <li>One or more players are secretly assigned the role of "Imposter". The rest are "Citizens", one of whom is also the "Mayor".</li>
                        <li>Citizens are told a group word that they must use to identify each other. The Mayor describes the word first and is known not to be the Imposter.</li>
                        <li>Proceeding clockwise, each player takes it in turns to describe the word: be sure to balance proving your innocence without giving it away to the imposter!</li>
                    </ul>
                    <h3>How to Win</h3>
                    <ul>
                        <li>If you're a Citizen</li>
                        <ul>
                            <li>Vote out the Imposter(s)!</li>
                            <li>Votes occur after every full round of clues, or can be called at any time by any player.</li>
                        </ul>
                        <li>If you're an Imposter</li>
                        <ul>
                            <li>Either (a) be one of the last two players remaining, or (b) correctly guess the word!</li>
                            <li>You can guess at any time except <b>not during a discussion/vote</b></li>
                        <li><a href='#advanced-rules'data-bs-toggle="collapse" data-bs-target="#advanced-rules" aria-expanded="false" aria-controls="advanced-rules">Show advanced rules</a></li>
                        </ul>
                    </ul>
                    <div class="collapse" id="advanced-rules">
                        <h3>Advanced Rules</h3>
                        <p>Once you've got the hang of the basic rules, try these advanced options to mix things up!</p>
                        <ul>
                            <li>If "Cooperative Imposters" is enabled, all Imposters are informed of each other's identities at the start of the game.</li>
                            <li>You can provide your own list of words for the game, just choose custom from the dropdown menu.</li>
                            <li>Why not be devious? Turn off "Cooperative Imposters", set all but one person to be imposters, and watch the chaos unfold ðŸ˜ˆ</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col">
                    <h3>Setup</h3>
                    <form id="setup-form">
                        <div class="mb-3">
                            <label for="player-names" class="form-label">Player Names (comma separated)</label>
                            <input type="text" class="form-control" id="player-names" placeholder="e.g. Alice, Bob, Charlie" required />
                        </div>
                        <div class="mb-3">
                            <label for="num-imposters" class="form-label">Number of Imposters</label>
                            <input type="number" class="form-control" id="num-imposters" min="1" value="1" required />
                        </div>
                        <div class="mb-3">
                            <!-- whether to reveal imposters to each other, checkbox -->
                            <label for="reveal-imposters" class="form-label">Cooperative Imposters</label>
                            <input type="checkbox" class="form-check-input" id="reveal-imposters" />
                        </div>
                        <div class="mb-3">
                            <label for="word" class="form-label">Word list</label>
                            <select class="form-select" id="word-list-select">
                            </select>
                            <input type="text" class="form-control hide" id="custom-word-list" placeholder="Or enter a custom word list (comma separated)" />
                        </div>
                        <button type="submit" class="btn btn-danger w-100">Start Game</button>
                        <div id="setup-error" class="mt-3 text-danger hide"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="cards" class="hide w-100">
        <!-- A series of stacked cards that show each players role, players will take it in turns to view their card (with a flip animation) -->
         <div class="container">
            <div class="row mt-5 mb-3">
                <div class="col text-center">
                    <h2 class="display-4">Player Roles</h2>
                    <p class="lead">Pass the device to each player to view their role.</p>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col text-center">
                    <div id="role-card-container" class="w-100">
                        <div id="role-card-template" class="hide role-card w-100">
                            <div class="role-card-front">
                                <h3 class="player-name"></h3>
                                <p class="instruction">Tap to reveal your role</p>
                            </div>
                            <div class="role-card-back">
                                <img src="../../img/citizen.png" class="role-icon" />
                                <h3 class="role"></h3>
                                <p class="word-info"></p>
                                <button class="btn btn-secondary mt-3 end-turn-btn">Next person</button>
                            </div>
                        </div>
                        <!-- Cards will be dynamically added here -->
                    </div>
                </div>
            </div>
            <div class="row mb-3 justify-content-center">
                <div class="col-9 text-center">
                    <p class="lead">The Mayor is:<br><span id="first-player-name"></span><br>and they will now describe the word first. Good luck!</p>
                    <button id="restart-btn" class="btn btn-danger mt-5">Restart Game</button>
                </div>
            </div>
        </div>
    </div>
    <div id="javascriptbox">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        <script src="../../js/imposter.js"></script>
    </div>
</body>
